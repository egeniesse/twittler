<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>

    <button id = "showNewTweets">Refresh Feed</button>
    <div id = "body"></div>

    <script>

      $(document).ready(function(){
        var $body = $('#body');
        $body.html('');
        var index = 0;
        

         var refreshFeed = function(){
          while(index < streams.home.length){
            var tweet = streams.home[index];
            var $tweet = $('<div class = "newTweet"><p></p></div>');
            $tweet.find('p').html('@' +'<a class = otherUser id = ' + tweet.user + ' href = #' + '>' + tweet.user + '<a/>'+ ': ' + tweet.message + ' sent ' + tweet.created_at);
            $tweet.prependTo($body);
            index += 1;
          }
        };
        refreshFeed();

        var $button = $('#showNewTweets');
        $button.on('click', function(){ refreshFeed() });

        $('body').on('click', '.otherUser' , function(){
          console.log(this);
        })
      });

    </script>
  </body>
</html>
